<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>üîµ Blue Belt - Stripe 4: Conflict Mastery | Tap-In Leadership</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .module-header {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border: 3px solid #1e40af;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .belt-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 15px;
            border: 2px solid #60a5fa;
        }

        .stripe-indicator {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }

        .stripe-dot {
            width: 12px;
            height: 40px;
            background: #1e3a8a;
            border-radius: 3px;
        }

        .stripe-dot.inactive {
            background: #93c5fd;
        }

        h1 {
            color: white;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .module-description {
            color: #dbeafe;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #bfdbfe;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #3b82f6;
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
        }

        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            color: #dbeafe;
            font-size: 14px;
            text-align: center;
            margin-top: 8px;
            font-weight: 500;
        }

        .lessons-grid {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .lesson-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e0e7ff;
            transition: all 0.3s ease;
        }

        .lesson-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(59,130,246,0.2);
            border-color: #3b82f6;
        }

        .lesson-card.completed {
            border-color: #10b981;
            background: linear-gradient(to bottom, white 0%, #f0fdf4 100%);
        }

        .lesson-card.locked {
            opacity: 0.6;
            pointer-events: none;
        }

        .lesson-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .lesson-number {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            font-weight: 700;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            border: 2px solid #1e40af;
        }

        .lesson-status {
            font-size: 24px;
        }

        h2 {
            color: #1e293b;
            font-size: 24px;
            margin-bottom: 15px;
            margin-top: 10px;
        }

        .lesson-description {
            color: #64748b;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .lesson-content {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .content-section {
            margin-bottom: 20px;
        }

        .content-section:last-child {
            margin-bottom: 0;
        }

        h3 {
            color: #3b82f6;
            font-size: 18px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .concept-list {
            list-style: none;
            padding-left: 0;
        }

        .concept-list li {
            padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
            color: #475569;
            line-height: 1.6;
        }

        .concept-list li:last-child {
            border-bottom: none;
        }

        .concept-list strong {
            color: #1e293b;
            display: block;
            margin-bottom: 4px;
        }

        .example-box {
            background: white;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .example-box strong {
            color: #3b82f6;
            display: block;
            margin-bottom: 8px;
        }

        .practice-box {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .practice-box h4 {
            color: #1e40af;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .practice-box p {
            color: #1e293b;
            line-height: 1.6;
        }

        .complete-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            border: 2px solid #1e40af;
        }

        .complete-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59,130,246,0.3);
        }

        .complete-btn.completed {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #047857;
        }

        .summary-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e0e7ff;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
            max-width: 400px;
            border: 3px solid #3b82f6;
        }

        .achievement-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: all;
        }

        .achievement-icon {
            font-size: 64px;
            margin-bottom: 20px;
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .achievement-title {
            font-size: 24px;
            color: #1e293b;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .achievement-desc {
            color: #64748b;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .achievement-xp {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 20px;
            font-weight: 700;
            display: inline-block;
            border: 2px solid #1e40af;
        }

        .close-achievement {
            margin-top: 20px;
            background: #f1f5f9;
            border: 2px solid #e2e8f0;
            color: #64748b;
            padding: 10px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .close-achievement:hover {
            background: #e2e8f0;
            color: #475569;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 999;
        }

        .overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .back-link:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(-4px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: #3b82f6;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
            color: #475569;
            line-height: 1.5;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: #f8fafc;
        }

        .highlight-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .highlight-box strong {
            color: #92400e;
            display: block;
            margin-bottom: 8px;
        }

        .highlight-box p {
            color: #78350f;
            line-height: 1.6;
            margin: 0;
        }

        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            .module-header {
                padding: 20px;
            }

            .lesson-card {
                padding: 20px;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="learning-hub.html" class="back-link">
            ‚Üê Back to Learning Hub
        </a>

        <div class="module-header">
            <div class="belt-badge">
                üîµ BLUE BELT
            </div>
            <div class="stripe-indicator">
                <div class="stripe-dot"></div>
                <div class="stripe-dot"></div>
                <div class="stripe-dot"></div>
                <div class="stripe-dot"></div>
            </div>
            <h1>Stripe 4: Conflict Mastery</h1>
            <p class="module-description">
                Master advanced conflict skills: coaching others through disagreements, navigating high-stakes conversations, 
                understanding cross-cultural conflict dynamics, and preparing for your Blue Belt assessment. This is where 
                conflict competence becomes leadership excellence.
            </p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-value" id="xpDisplay">0</span>
                    <span class="stat-label">Total XP</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="lessonsDisplay">0/2</span>
                    <span class="stat-label">Lessons</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="badgesDisplay">0/1</span>
                    <span class="stat-label">Stripe</span>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p class="progress-text" id="progressText">0 of 2 lessons completed</p>
        </div>

        <div class="lessons-grid">
            <!-- Lesson 1: Coaching Others Through Conflict -->
            <div class="lesson-card" id="lesson1">
                <div class="lesson-header">
                    <div class="lesson-number">LESSON 1</div>
                    <div class="lesson-status" id="status1">‚ö™</div>
                </div>
                <h2>Coaching Others Through Conflict</h2>
                <p class="lesson-description">
                    Learn how to coach team members through their own conflicts. Develop the skills to guide others 
                    in productive disagreement without taking over or solving the conflict for them.
                </p>

                <div class="lesson-content">
                    <div class="content-section">
                        <h3>üéØ Why Coaching Matters</h3>
                        <ul class="concept-list">
                            <li>
                                <strong>Scales Your Impact:</strong>
                                Teaching conflict skills multiplies your effectiveness. One coached team member can facilitate 
                                dozens of productive conflicts without you present.
                            </li>
                            <li>
                                <strong>Builds Team Capability:</strong>
                                Conflict competence becomes embedded in your team culture when you coach others, not just 
                                intervene yourself. The team becomes self-sufficient.
                            </li>
                            <li>
                                <strong>Prevents Dependency:</strong>
                                Teams that rely on one person to manage all conflict become fragile. Coaching distributes 
                                the skill across the organization.
                            </li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>üí° The Coaching Stance</h3>
                        <table>
                            <tr>
                                <th>Don't Do</th>
                                <th>Do Instead</th>
                            </tr>
                            <tr>
                                <td>Jump in and solve the conflict</td>
                                <td>Ask questions that help them solve it</td>
                            </tr>
                            <tr>
                                <td>Take sides or judge who's right</td>
                                <td>Help both parties articulate their needs</td>
                            </tr>
                            <tr>
                                <td>Give advice on what to say</td>
                                <td>Practice the conversation with them</td>
                            </tr>
                            <tr>
                                <td>Rush to resolution</td>
                                <td>Let them sit in discomfort and learn</td>
                            </tr>
                        </table>
                    </div>

                    <div class="content-section">
                        <h3>üõ†Ô∏è Coaching Questions Framework</h3>
                        <div class="example-box">
                            <strong>1. Understand Their Perspective:</strong>
                            "What's happening from your point of view?" ‚Üí "What do you think is driving their position?" 
                            ‚Üí "What might they be worried about?"
                        </div>
                        <div class="example-box">
                            <strong>2. Surface Their Needs:</strong>
                            "What do you need from this situation?" ‚Üí "What does a good outcome look like?" 
                            ‚Üí "What's non-negotiable for you?"
                        </div>
                        <div class="example-box">
                            <strong>3. Explore Options:</strong>
                            "What have you tried so far?" ‚Üí "What could you do differently?" 
                            ‚Üí "What would happen if you did X?"
                        </div>
                        <div class="example-box">
                            <strong>4. Build Commitment:</strong>
                            "What's your next step?" ‚Üí "When will you do this?" 
                            ‚Üí "How will you know if it worked?"
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>ü•ã BJJ Analogy: Coaching on the Sidelines</h3>
                        <div class="highlight-box">
                            <strong>Coaching conflict is like coaching a sparring round:</strong>
                            <p>
                                You don't jump on the mat and finish their opponent for them. You watch, you point out 
                                what they're missing ("They're giving you their back!"), you ask questions ("What happens 
                                if you try the sweep here?"), and you let them figure it out. The learning happens in the struggle, 
                                not in you solving it for them.
                            </p>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>üìã Example: Coaching Through Peer Conflict</h3>
                        <div class="example-box">
                            <strong>Scenario:</strong>
                            Sarah (engineer) comes to you: "I can't work with Tom anymore. He keeps blocking my PRs with 
                            nitpicky comments. It's slowing everything down."
                        </div>
                        <div class="example-box">
                            <strong>‚ùå Taking Over:</strong>
                            "Let me talk to Tom. I'll tell him to ease up on the reviews."
                        </div>
                        <div class="example-box">
                            <strong>‚úÖ Coaching:</strong>
                            "What do you think Tom cares about in those reviews?" ‚Üí Sarah: "Code quality, I guess." 
                            ‚Üí "What do you care about?" ‚Üí Sarah: "Shipping fast." ‚Üí "So you both want good outcomes, 
                            just different timelines. What if you talked to Tom about finding a balance? What would you say?" 
                            ‚Üí [Practice the conversation] ‚Üí "When will you have that conversation?"
                        </div>
                    </div>

                    <div class="practice-box">
                        <h4>üéØ Practice Exercise:</h4>
                        <p>
                            Next time someone brings you a conflict, don't solve it. Ask 3 coaching questions instead: 
                            (1) "What do you think is driving their position?" (2) "What do you need from this?" 
                            (3) "What's one thing you could try?" Let them develop the solution.
                        </p>
                    </div>
                </div>

                <button class="complete-btn" onclick="completeLesson(1)" id="btn1">
                    Complete Lesson 1
                </button>
            </div>

            <!-- Lesson 2: High-Stakes Conflict Navigation -->
            <div class="lesson-card" id="lesson2">
                <div class="lesson-header">
                    <div class="lesson-number">LESSON 2</div>
                    <div class="lesson-status" id="status2">‚ö™</div>
                </div>
                <h2>High-Stakes Conflict Navigation</h2>
                <p class="lesson-description">
                    Master the skills to navigate conflicts when the stakes are high: layoffs, major pivots, performance issues, 
                    executive disagreements. Learn how to stay productive when emotions run hot and consequences are significant.
                </p>

                <div class="lesson-content">
                    <div class="content-section">
                        <h3>üéØ What Makes Conflict High-Stakes</h3>
                        <ul class="concept-list">
                            <li>
                                <strong>Significant Consequences:</strong>
                                Jobs on the line, major budget decisions, company direction, reputation at risk. 
                                The outcome materially affects people's lives or the organization's future.
                            </li>
                            <li>
                                <strong>Emotional Intensity:</strong>
                                People are more reactive, defensive, and less rational. Amygdala hijacks are common. 
                                Normal conflict skills may not be enough.
                            </li>
                            <li>
                                <strong>Power Dynamics:</strong>
                                Often involves disagreements across hierarchy levels (exec vs IC, board vs CEO). 
                                Power imbalances make open disagreement risky.
                            </li>
                            <li>
                                <strong>Time Pressure:</strong>
                                Decisions can't wait. You need to navigate conflict quickly while maintaining 
                                relationship quality and decision quality.
                            </li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h3>üí° High-Stakes Conflict Principles</h3>
                        <table>
                            <tr>
                                <th>Principle</th>
                                <th>What It Means</th>
                            </tr>
                            <tr>
                                <td><strong>Slow Down to Speed Up</strong></td>
                                <td>Take 5 minutes to align on process before jumping into content. Saves hours of thrashing.</td>
                            </tr>
                            <tr>
                                <td><strong>Name the Stakes</strong></td>
                                <td>Explicitly acknowledge what's on the line. Reduces anxiety and builds shared context.</td>
                            </tr>
                            <tr>
                                <td><strong>Separate Deciding from Discussing</strong></td>
                                <td>Debate the options first, THEN decide who decides. Don't conflate the two.</td>
                            </tr>
                            <tr>
                                <td><strong>Protect the Relationship</strong></td>
                                <td>You'll work together after this decision. Preserve trust even in disagreement.</td>
                            </tr>
                        </table>
                    </div>

                    <div class="content-section">
                        <h3>üõ†Ô∏è High-Stakes Navigation Techniques</h3>
                        <div class="example-box">
                            <strong>1. Pre-Conflict Framing:</strong>
                            Before diving in, align on: (1) What's at stake? (2) How will we decide? (3) What's the timeline? 
                            (4) How do we want to treat each other during this?
                        </div>
                        <div class="example-box">
                            <strong>2. Tactical Breaks:</strong>
                            When emotions spike, pause. "Let's take 10 minutes to cool down." High-stakes conflicts often 
                            need multiple sessions, not one marathon.
                        </div>
                        <div class="example-box">
                            <strong>3. Third-Party Facilitation:</strong>
                            Bring in someone neutral to facilitate when stakes are extremely high (e.g., board mediation, 
                            co-founder conflict). Don't try to self-facilitate.
                        </div>
                        <div class="example-box">
                            <strong>4. Document Commitments:</strong>
                            Write down what was decided and who's doing what. High-stakes decisions need clarity. 
                            "Let me summarize what we agreed to..."
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>ü•ã BJJ Analogy: Competition Mindset</h3>
                        <div class="highlight-box">
                            <strong>High-stakes conflict is like a tournament match:</strong>
                            <p>
                                In training, you can experiment and lose. In competition, the stakes are real. You slow down, 
                                you breathe, you execute fundamentals perfectly. No fancy moves‚Äîjust the basics done excellently 
                                under pressure. Same in high-stakes conflict: stick to proven techniques, manage your physiology, 
                                don't try to innovate in the moment.
                            </p>
                        </div>
                    </div>

                    <div class="content-section">
                        <h3>üìã Example: Navigating a Layoff Disagreement</h3>
                        <div class="example-box">
                            <strong>Scenario:</strong>
                            Exec team must decide whether to lay off 20% of staff. CFO says it's necessary for survival. 
                            CTO says it will kill critical projects and morale. CEO must navigate this conflict.
                        </div>
                        <div class="example-box">
                            <strong>‚ùå Rushing to Decide:</strong>
                            "Let's vote on it right now." ‚Üí Creates winners/losers, damages relationships, doesn't surface 
                            the real tradeoffs.
                        </div>
                        <div class="example-box">
                            <strong>‚úÖ High-Stakes Navigation:</strong>
                            <strong>Frame:</strong> "This is a hard decision with real consequences. Let's align on how we'll decide 
                            before we debate the options. I'll make the final call, but I need to hear your reasoning first."
                            <br><br>
                            <strong>Explore:</strong> "CFO, walk us through the financial scenario. CTO, what projects would we lose? 
                            What's the impact on morale vs the impact of running out of money?"
                            <br><br>
                            <strong>Decide:</strong> "I hear both of you. Here's what I'm deciding and why..." 
                            ‚Üí Document the decision, the reasoning, and how we'll support people through it.
                            <br><br>
                            <strong>Protect Relationship:</strong> "I know we didn't all agree, but I need to know you'll support 
                            this decision publicly. Can you commit to that?"
                        </div>
                    </div>

                    <div class="practice-box">
                        <h4>üéØ Practice Exercise:</h4>
                        <p>
                            Identify a high-stakes conflict coming up in the next month. Before the meeting, write down: 
                            (1) What's at stake? (2) Who decides? (3) What could go wrong emotionally? (4) How will you 
                            protect relationships regardless of outcome? Use this prep to navigate the conflict skillfully.
                        </p>
                    </div>
                </div>

                <button class="complete-btn" onclick="completeLesson(2)" id="btn2">
                    Complete Lesson 2
                </button>
            </div>

            <!-- Lesson 3: Coming Soon -->
            <div class="lesson-card locked" id="lesson3">
                <div class="lesson-header">
                    <div class="lesson-number">LESSON 3</div>
                    <div class="lesson-status">üîí</div>
                </div>
                <h2>Cross-Cultural Conflict Considerations</h2>
                <p class="lesson-description">
                    Understand how cultural differences shape conflict styles and expectations. Learn to navigate disagreements 
                    across cultures without imposing your own conflict norms.
                </p>
                <div style="text-align: center; padding: 40px; color: #94a3b8; font-size: 14px;">
                    üîí Complete Lessons 1-2 to unlock
                </div>
            </div>

            <!-- Lesson 4: Coming Soon -->
            <div class="lesson-card locked" id="lesson4">
                <div class="lesson-header">
                    <div class="lesson-number">LESSON 4</div>
                    <div class="lesson-status">üîí</div>
                </div>
                <h2>Blue Belt Assessment Prep</h2>
                <p class="lesson-description">
                    Review all Blue Belt concepts and prepare for the comprehensive assessment. Test your conflict mastery 
                    through scenarios, reflections, and practical demonstrations.
                </p>
                <div style="text-align: center; padding: 40px; color: #94a3b8; font-size: 14px;">
                    üîí Complete Lessons 1-2 to unlock
                </div>
            </div>
        </div>

        <!-- Progress Summary -->
        <div class="summary-card">
            <h2 style="margin-bottom: 10px;">üìä Your Progress</h2>
            <p style="color: #64748b; margin-bottom: 20px;">Track your journey through Blue Belt Stripe 4</p>
            
            <div class="summary-stats">
                <div class="stat-card">
                    <span class="stat-value" id="summaryComplete">0/2</span>
                    <span class="stat-label">Lessons Completed</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="summaryXP">0</span>
                    <span class="stat-label">XP Earned</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="summaryBadges">In Progress</span>
                    <span class="stat-label">Stripe Status</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievement Popup -->
    <div class="overlay" id="overlay" onclick="closeAchievement()"></div>
    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-icon">üéâ</div>
        <div class="achievement-title" id="achievementTitle">Lesson Complete!</div>
        <div class="achievement-desc" id="achievementDesc">You're making great progress</div>
        <div class="achievement-xp" id="achievementXP">+25 XP</div>
        <button class="close-achievement" onclick="closeAchievement()">Continue</button>
    </div>

    <script>
        const STORAGE_KEY = 'bluebeltStripe4Completed';
        const XP_KEY = 'bluebeltStripe4ModuleXP';
        const TOTAL_LESSONS = 2; // 2 lessons available now
        const XP_PER_LESSON = 25;

        // Load progress
        function loadProgress() {
            const completed = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            const moduleXP = parseInt(localStorage.getItem(XP_KEY) || '0');
            
            completed.forEach(lessonNum => {
                markLessonComplete(lessonNum);
            });
            
            updateAllStats();
        }

        // Mark lesson as visually complete
        function markLessonComplete(lessonNum) {
            const card = document.getElementById(`lesson${lessonNum}`);
            const status = document.getElementById(`status${lessonNum}`);
            const btn = document.getElementById(`btn${lessonNum}`);
            
            if (card && status && btn) {
                card.classList.add('completed');
                status.textContent = '‚úÖ';
                btn.textContent = '‚úì Completed';
                btn.classList.add('completed');
            }
        }

        // Complete a lesson
        function completeLesson(lessonNum) {
            let completed = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            let moduleXP = parseInt(localStorage.getItem(XP_KEY) || '0');
            
            if (completed.includes(lessonNum)) {
                showAchievement('Already Complete', 'You\'ve already completed this lesson', 'No XP');
                return;
            }
            
            // Add to completed
            completed.push(lessonNum);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(completed));
            
            // Add XP
            moduleXP += XP_PER_LESSON;
            localStorage.setItem(XP_KEY, moduleXP.toString());
            
            // Add to global XP
            let totalXP = parseInt(localStorage.getItem('totalXP') || '0');
            totalXP += XP_PER_LESSON;
            localStorage.setItem('totalXP', totalXP.toString());
            
            // Mark complete
            markLessonComplete(lessonNum);
            updateAllStats();
            
            showAchievement(`Lesson ${lessonNum} Complete!`, `Great work on mastering this concept`, `+${XP_PER_LESSON} XP`);
        }

        // Update all statistics
        function updateAllStats() {
            const completed = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            const moduleXP = parseInt(localStorage.getItem(XP_KEY) || '0');
            
            // Update header stats
            document.getElementById('xpDisplay').textContent = moduleXP;
            document.getElementById('lessonsDisplay').textContent = `${completed.length}/${TOTAL_LESSONS}`;
            document.getElementById('badgesDisplay').textContent = '0/1';
            
            // Update progress bar
            const progress = (completed.length / TOTAL_LESSONS) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `${completed.length} of ${TOTAL_LESSONS} lessons completed`;
            
            // Update summary stats
            document.getElementById('summaryComplete').textContent = `${completed.length}/${TOTAL_LESSONS}`;
            document.getElementById('summaryXP').textContent = moduleXP;
            document.getElementById('summaryBadges').textContent = 'In Progress';
        }

        // Show achievement popup
        function showAchievement(title, desc, xp) {
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementDesc').textContent = desc;
            document.getElementById('achievementXP').textContent = xp;
            document.getElementById('achievementPopup').classList.add('show');
            document.getElementById('overlay').classList.add('show');
        }

        // Close achievement popup
        function closeAchievement() {
            document.getElementById('achievementPopup').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }

        // Initialize on page load
        loadProgress();
    </script>
</body>
</html>
