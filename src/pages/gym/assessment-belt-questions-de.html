<!DOCTYPE html>
<html lang="de">
<head>    <meta name="description" content="TAP-IN Leadership Academy: Leadership-Entwicklung, die wirklich wirkt.">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Performance: Resource Hints -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">
<!-- Performance: Resource Hints -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">
<title>Gürtel-Assessment - Fragen | Tap-In</title>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
background: #1a1d2e;
color: var(--border-light);
font-family: Inter, -apple-system, sans-serif;
min-height: 100vh;
}
.progress-bar {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 4px;
background: #2d3548;
z-index: 1000;
}
.progress-fill {
height: 100%;
background: linear-gradient(90deg, var(--tap-blue) 0%, #5a8cac 100%);
width: 0%;
transition: width 0.4s ease;
}
.header {
padding: 2rem;
text-align: center;
border-bottom: 2px solid #3d4466;
}
.question-counter {
color: var(--tap-blue);
font-weight: 700;
font-size: 0.9rem;
text-transform: uppercase;
letter-spacing: 1px;
margin-bottom: 0.5rem;
}
.category-badge {
display: inline-block;
background: rgba(74, 124, 156, 0.2);
color: var(--tap-blue);
padding: 0.4rem 1rem;
border-radius: 6px;
font-size: 0.85rem;
font-weight: 600;
margin-top: 0.5rem;
}
.container {
max-width: 800px;
margin: 0 auto;
padding: 4rem 2rem;
}
.question-card {
background: #252940;
border: 2px solid #3d4466;
border-radius: 16px;
padding: 3rem;
margin-bottom: 2rem;
animation: slideIn 0.4s ease;
}
@keyframes slideIn {
from {
opacity: 0;
transform: translateY(20px);
}
to {
opacity: 1;
transform: translateY(0);
}
}
.question-text {
font-size: 1.5rem;
line-height: 1.6;
color: var(--border-light);
margin-bottom: 3rem;
font-weight: 600;
}
.options {
display: grid;
gap: 1rem;
}
.option {
background: #2d3548;
border: 2px solid #3d4466;
border-radius: 12px;
padding: 1.5rem;
cursor: pointer;
transition: all 0.2s ease;
display: flex;
align-items: center;
gap: 1.5rem;
}
.option:hover {
border-color: var(--tap-blue);
transform: translateX(8px);
}
.option.selected {
border-color: var(--tap-blue);
background: rgba(74, 124, 156, 0.1);
box-shadow: 0 4px 12px rgba(74, 124, 156, 0.2);
}
.option-number {
font-size: 1.5rem;
font-weight: 700;
color: var(--tap-blue);
width: 40px;
height: 40px;
background: #1a1d2e;
border-radius: 8px;
display: flex;
align-items: center;
justify-content: center;
flex-shrink: 0;
}
.option.selected .option-number {
background: var(--tap-blue);
color: white;
}
.option-label {
font-size: 1.1rem;
color: var(--border-light);
font-weight: 500;
}
.nav-buttons {
display: flex;
justify-content: space-between;
margin-top: 3rem;
}
.btn {
padding: 1rem 2rem;
border-radius: 10px;
font-weight: 700;
cursor: pointer;
transition: all 0.2s ease;
border: none;
font-size: 1rem;
}
.btn-secondary {
background: #3d4466;
color: var(--border-light);
}
.btn-secondary:hover {
background: #4d5476;
}
.btn-primary {
background: var(--tap-blue);
color: white;
}
.btn-primary:hover {
background: #5a8cac;
transform: translateY(-2px);
}
.btn:disabled {
opacity: 0.5;
cursor: not-allowed;
transform: none;
}
@media (max-width: 768px) {
.question-text { font-size: 1.2rem; }
.option { padding: 1rem; }
.option-label { font-size: 0.95rem; }
}

.achievement-toast {
  position: fixed;
  top: 20px;
  right: 20px;
  background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
  color: white;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  box-shadow: 0 4px 20px rgba(0, 255, 136, 0.3);
  transform: translateX(400px);
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 10000;
  font-weight: 600;
}

.achievement-toast.show {
  transform: translateX(0);
  opacity: 1;
}

.achievement-icon {
  width: 24px;
  height: 24px;
  flex-shrink: 0;
}

</style>
<link rel="stylesheet" href="css/accessibility.css">

<body>
<!-- Skip Links for Accessibility -->
<a href="#main-content" class="skip-link">Skip to main content</a>
<a href="#navigation" class="skip-link">Skip to navigation</a>
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
<div class="header">
<div class="question-counter" id="questionCounter">Frage 1 von 20</div>
<div class="category-badge" id="categoryBadge">Vertrauen</div>
</div>
<div class="container">
<div class="question-card">
<div class="question-text" id="questionText">
Teammitglieder geben offen ihre Fehler und Schwächen zu
</div>
<div class="options" id="optionsContainer">
<div class="option" onclick="selectOption(1)">
<div class="option-number">1</div>
<div class="option-label">Nie - Das passiert in unserem Team nicht</div>
</div>
<div class="option" onclick="selectOption(2)">
<div class="option-number">2</div>
<div class="option-label">Selten - Nur in Extremsituationen</div>
</div>
<div class="option" onclick="selectOption(3)">
<div class="option-number">3</div>
<div class="option-label">Manchmal - Es variiert je nach Person und Situation</div>
</div>
<div class="option" onclick="selectOption(4)">
<div class="option-number">4</div>
<div class="option-label">Oft - Die meisten Teammitglieder tun dies</div>
</div>
<div class="option" onclick="selectOption(5)">
<div class="option-number">5</div>
<div class="option-label">Immer - Dies ist normales Verhalten für uns</div>
</div>
</div>
</div>
<div class="nav-buttons">
<button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn" aria-label="Previous">
← Zurück
</button>
<button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn" disabled aria-label="Next">
Weiter →
</button>
</div>
</div>
<script>
const questions = [
      // VERTRAUEN (Questions 1-4)
{ category: 'Vertrauen', text: 'Teammitglieder geben offen ihre Fehler und Schwächen zu', dysfunction: 'trust' },
{ category: 'Vertrauen', text: 'Menschen bitten ohne Zögern um Hilfe', dysfunction: 'trust' },
{ category: 'Vertrauen', text: 'Teammitglieder schenken einander Vertrauen im Zweifelsfall', dysfunction: 'trust' },
{ category: 'Vertrauen', text: 'Menschen entschuldigen sich schnell und aufrichtig, wenn sie Fehler machen', dysfunction: 'trust' },
      // KONFLIKT (Questions 5-8)
{ category: 'Konflikt', text: 'Teammeetings beinhalten leidenschaftliche, ungeschönte Debatten', dysfunction: 'conflict' },
{ category: 'Konflikt', text: 'Menschen äußern Meinungsverschiedenheiten während der Meetings (nicht danach)', dysfunction: 'conflict' },
{ category: 'Konflikt', text: 'Konflikte werden schnell und sauber gelöst', dysfunction: 'conflict' },
{ category: 'Konflikt', text: 'Teammitglieder hinterfragen gegenseitig ihre Ideen respektvoll', dysfunction: 'conflict' },
      // VERBINDLICHKEIT (Questions 9-12)
{ category: 'Verbindlichkeit', text: 'Entscheidungen werden mit Klarheit und Zustimmung aller getroffen', dysfunction: 'commitment' },
{ category: 'Verbindlichkeit', text: 'Teammitglieder verlassen Meetings mit Vertrauen in die Richtung', dysfunction: 'commitment' },
{ category: 'Verbindlichkeit', text: 'Menschen halten sich an Entscheidungen, auch wenn sie anfangs anderer Meinung waren', dysfunction: 'commitment' },
{ category: 'Verbindlichkeit', text: 'Fristen und Prioritäten sind für alle kristallklar', dysfunction: 'commitment' },
      // VERANTWORTUNG (Questions 13-16)
{ category: 'Verantwortung', text: 'Teammitglieder sprechen sich gegenseitig auf Leistungsprobleme an', dysfunction: 'accountability' },
{ category: 'Verantwortung', text: 'Menschen übernehmen Verantwortung, wenn etwas schiefgeht', dysfunction: 'accountability' },
{ category: 'Verantwortung', text: 'Standards werden eingehalten, auch wenn es unangenehm ist', dysfunction: 'accountability' },
{ category: 'Verantwortung', text: 'Teammitglieder üben konstruktiven Druck auf Kollegen aus, Verpflichtungen einzuhalten', dysfunction: 'accountability' },
      // ERGEBNISSE (Questions 17-20)
{ category: 'Ergebnisse', text: 'Das Team feiert kollektive Erfolge mehr als individuelle Leistungen', dysfunction: 'results' },
{ category: 'Ergebnisse', text: 'Menschen stellen persönliche Ziele zurück für Teamziele', dysfunction: 'results' },
{ category: 'Ergebnisse', text: 'Erfolgskennzahlen sind klar definiert und werden verfolgt', dysfunction: 'results' },
{ category: 'Ergebnisse', text: 'Teammitglieder sind ernsthaft besorgt, Teamkollegen zu enttäuschen', dysfunction: 'results' }
];
let currentQuestion = 0;
let answers = [];
let selectedAnswer = null;
function loadQuestion() {
const q = questions[currentQuestion];
document.getElementById('questionCounter').textContent = `Frage ${currentQuestion + 1} von 20`;
document.getElementById('categoryBadge').textContent = q.category;
document.getElementById('questionText').textContent = q.text;
      // Update progress bar
const progress = ((currentQuestion + 1) / 20) * 100;
document.getElementById('progressFill').style.width = progress + '%';
      // Clear selections
document.querySelectorAll('.option').forEach(opt => {
opt.classList.remove('selected');
});
      // Restore previous answer if exists
if (answers[currentQuestion]) {
selectedAnswer = answers[currentQuestion];
document.querySelectorAll('.option')[selectedAnswer - 1].classList.add('selected');
document.getElementById('nextBtn').disabled = false;
} else {
selectedAnswer = null;
document.getElementById('nextBtn').disabled = true;
}
      // Update buttons
document.getElementById('prevBtn').disabled = currentQuestion === 0;
document.getElementById('nextBtn').textContent = currentQuestion === 19 ? 'Ergebnisse ansehen →' : 'Weiter →';
}

function selectOption(value) {
    selectedAnswer = value;
    answers[currentQuestion] = value;
    
    // Update visual selection
    document.querySelectorAll('.option').forEach(opt => {
        opt.classList.remove('selected');
    });
    document.querySelectorAll('.option')[value - 1].classList.add('selected');
    
    // Enable next button
    document.getElementById('nextBtn').disabled = false;
}

function previousQuestion() {
if (currentQuestion > 0) {
currentQuestion--;
loadQuestion();
}
}
function nextQuestion() {
if (selectedAnswer === null) return;
if (currentQuestion < 19) {
currentQuestion++;
loadQuestion();
} else {
        // Calculate results and redirect
calculateResults();
}
}
function calculateResults() {
      // Calculate scores by dysfunction
const scores = {
trust: 0,
conflict: 0,
commitment: 0,
accountability: 0,
results: 0
};
questions.forEach((q, i) => {
scores[q.dysfunction] += answers[i] || 0;
});
      // Convert to percentages (max 20 per dysfunction)
Object.keys(scores).forEach(key => {
scores[key] = Math.round((scores[key] / 20) * 100);
});
      // Calculate total score
const totalScore = Math.round(
(answers.reduce((sum, val) => sum + val, 0) / 100) * 100
);
      // Determine belt level
let beltLevel = 'white';
if (totalScore >= 90) beltLevel = 'black';
else if (totalScore >= 75) beltLevel = 'brown';
else if (totalScore >= 60) beltLevel = 'purple';
else if (totalScore >= 45) beltLevel = 'blue';
      // Find weakest area
const weakestArea = Object.keys(scores).reduce((a, b) =>
scores[a] < scores[b] ? a : b
);
      // Save to localStorage
localStorage.setItem('assessmentScores', JSON.stringify(scores));
localStorage.setItem('assessmentTotal', totalScore);
localStorage.setItem('beltLevel', beltLevel);
localStorage.setItem('weakestArea', weakestArea);
localStorage.setItem('beltAssessmentResult', beltLevel);
localStorage.setItem('beltAssessmentDate', new Date().toISOString());
      // Award XP
const currentXP = parseInt(localStorage.getItem('totalXP') || '0');
localStorage.setItem('totalXP', currentXP + 100);
      // Redirect to results
window.location.href = 'assessment-belt-results-de.html';
}
    // Load first question
loadQuestion();
</script>
<!-- TAP-IN Utilities -->
<script src="js/shared-utilities.js"></script>
<script src="js/global-error-handler.min.js"></script>
<script src="js/storage-health.min.js"></script>
<!-- TAP-IN Core Modules -->
<script src="js/meta-tags-manager.js"></script>
<script src="js/achievement-badges.js"></script>
<script src="js/structured-data.js"></script>
<script src="js/keyboard-navigation.js" defer></script>

<!-- PWA Service Worker Registration -->
<script>
if ('serviceWorker' in navigator) {
window.addEventListener('load', function() {
navigator.serviceWorker.register('/service-worker.js')
.then(function(registration) {
//                         console.log('Service Worker registered:', registration.scope);
                        // Check for updates
registration.addEventListener('updatefound', function() {
const newWorker = registration.installing;
newWorker.addEventListener('statechange', function() {
if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker available
                                    console.log('New service worker available');
}
});
});
})
.catch(function(error) {
                        // Silent fail - not critical
});
});
}
</script>
<script src="js/pwa-instal-prompt.js"></script>
</html>
<!-- Focus Management for Accessibility -->
<script src="js/focus-management.js" defer>
function completeAssessment(assessmentType) {
  if (!assessmentType) {
    const filename = window.location.pathname.split('/').pop();
    if (filename.includes('belt')) assessmentType = 'belt';
    else if (filename.includes('deep-dive')) assessmentType = 'deepdive';
    else if (filename.includes('mental-health')) assessmentType = 'mentalhealth';
    else if (filename.includes('worker-type')) assessmentType = 'workertype';
    else if (filename.includes('team')) assessmentType = 'team';
    else if (filename.includes('leadership')) assessmentType = 'leadership';
    else assessmentType = 'general';
  }
  
  const key = `assessment_${assessmentType}_completed`;
  const completedAssessments = JSON.parse(localStorage.getItem('completedAssessments') || '{}');
  
  if (completedAssessments[key]) {
    console.log('Assessment bereits abgeschlossen');
    redirectAfterCompletion();
    return;
  }
  
  completedAssessments[key] = {
    completedAt: new Date().toISOString(),
    xpEarned: 100
  };
  localStorage.setItem('completedAssessments', JSON.stringify(completedAssessments));
  
  if (typeof TapInGamification !== 'undefined') {
    TapInGamification.addXP(100, `${assessmentType} assessment abgeschlossen`);
  }
  
  showAchievement('Assessment abgeschlossen! +100 XP');
  setTimeout(redirectAfterCompletion, 2000);
}

function redirectAfterCompletion() {
  const filename = window.location.pathname.split('/').pop();
  if (filename.includes('belt')) {
    window.location.href = '../../gym/gym-dashboard-de.html';
  } else if (filename.includes('deep-dive')) {
    window.location.href = '../../hub/learning-hub-de.html';
  } else if (filename.includes('mental-health')) {
    window.location.href = '../../gym/gym-dashboard-de.html';
  } else {
    window.location.href = '../../gym/gym-dashboard-de.html';
  }
}

function showAchievement(message) {
  const achievement = document.createElement('div');
  achievement.className = 'achievement-toast';
  achievement.innerHTML = `
    <svg class="achievement-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>
    <span>${message}</span>
  `;
  document.body.appendChild(achievement);
  setTimeout(() => achievement.classList.add('show'), 100);
  setTimeout(() => {
    achievement.classList.remove('show');
    setTimeout(() => achievement.remove(), 300);
  }, 3000);
}

</script>
<!-- Screen Reader Enhancements for Accessibility -->
<script src="js/screen-reader-enhancements.js" defer></script>